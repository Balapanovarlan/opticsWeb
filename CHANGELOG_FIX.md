# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å "–∏—Å—á–µ–∑–∞—é—â–∏–º–∏" —Ç–æ–∫–µ–Ω–∞–º–∏

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–¢–æ–∫–µ–Ω—ã "–ø—Ä–æ–ø–∞–¥–∞–ª–∏" –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

## üîç –ü—Ä–∏—á–∏–Ω–∞

**localStorage –ø—Ä–∏–≤—è–∑–∞–Ω –∫ origin** ‚Äî —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è `(protocol, host, port)`.

–ù–∞–ø—Ä–∏–º–µ—Ä:
- `http://localhost:3000` ‚Äî –æ–¥–∏–Ω localStorage
- `http://localhost` (–ø–æ—Ä—Ç 80) ‚Äî **–î–†–£–ì–û–ô** localStorage  
- `https://localhost` (–ø–æ—Ä—Ç 443) ‚Äî **–¢–†–ï–¢–ò–ô** localStorage

–ï—Å–ª–∏ –≤—ã –ª–æ–≥–∏–Ω–∏–ª–∏—Å—å –Ω–∞ `:3000`, –∞ –ø–æ—Ç–æ–º –æ—Ç–∫—Ä—ã–≤–∞–ª–∏ —á–µ—Ä–µ–∑ nginx (–±–µ–∑ –ø–æ—Ä—Ç–∞), —Ç–æ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ **—Ä–∞–∑–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞** ‚Äî —Ç–æ–∫–µ–Ω—ã "–ø—Ä–æ–ø–∞–¥–∞–ª–∏"!

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

1. **`frontend/src/services/api.ts`**
   ```typescript
   // –ë—ã–ª–æ:
   const API_URL = 'http://localhost:8000';
   
   // –°—Ç–∞–ª–æ:
   const API_URL = '/api'; // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å —á–µ—Ä–µ–∑ nginx
   ```

2. **`docker-compose.yml`**
   ```yaml
   frontend:
     environment:
       - VITE_API_URL=/api  # –ò—Å–ø–æ–ª—å–∑—É–µ–º nginx –ø—Ä–æ–∫—Å–∏
   ```

3. **`nginx/nginx.conf.http`** (—É–∂–µ –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
   - –§—Ä–æ–Ω—Ç–µ–Ω–¥: `location /` ‚Üí –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ `frontend:3000`
   - Backend API: `location /api/` ‚Üí –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ `backend:8000`

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å:

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:**
   ```bash
   docker-compose restart frontend
   ```

2. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –û–î–ò–ù URL:**
   
   ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
   - –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ `http://localhost` (—á–µ—Ä–µ–∑ nginx)
   - –ò–ª–∏ `https://localhost` (–µ—Å–ª–∏ SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
   
   ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
   - ~~`http://localhost:3000`~~ ‚Äî –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É
   - ~~–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É URL~~

3. **–û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
   - Application ‚Üí Local Storage
   - –£–¥–∞–ª–∏—Ç–µ `access_token` –∏ `refresh_token` –∏–∑ –≤—Å–µ—Ö origins
   - –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –∑–∞–Ω–æ–≤–æ

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost` (—á–µ—Ä–µ–∑ nginx)
2. –ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console, —É–≤–∏–¥–∏—Ç–µ:
   ```
   üíæ [API] Tokens saved to localStorage
   ```
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/admin`
5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
6. **–¢–æ–∫–µ–Ω—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–ø–∞–¥–∞—Ç—å!**

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å:

```
Browser (http://localhost)
    ‚Üì
Nginx (–ø–æ—Ä—Ç 80)
    ‚îú‚îÄ / ‚Üí Frontend (React SPA –Ω–∞ –ø–æ—Ä—Ç—É 3000)
    ‚îî‚îÄ /api ‚Üí Backend (FastAPI –Ω–∞ –ø–æ—Ä—Ç—É 8000)
```

- –ë—Ä–∞—É–∑–µ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ `http://localhost`
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ **–æ–¥–∏–Ω origin**
- localStorage **–æ–±—â–∏–π** –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –¢–æ–∫–µ–Ω—ã **–Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è** –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω **–ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø** –∫ backend (–±–µ–∑ nginx):
```bash
# –í frontend/.env –∏–ª–∏ docker-compose.yml
VITE_API_URL=http://localhost:8000
```

–ù–æ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ `http://localhost:3000` –∏ **–Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è** –Ω–∞ `http://localhost`.

## üéØ –ò—Ç–æ–≥

‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞  
‚úÖ –¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏  
‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ localStorage –±–æ–ª—å—à–µ –Ω–µ "–æ—á–∏—â–∞–µ—Ç—Å—è"  

**–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ URL** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é!

